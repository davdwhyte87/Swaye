{"version":3,"sources":["../../middleware/auth.js"],"names":["jwt","require","module","exports","req","res","next","verify","headers","process","env","JWT","err","dc","status","json","code","message","userData","console","log","type","error"],"mappings":";;AAAA,IAAMA,MAAIC,QAAQ,cAAR,CAAV;AACAC,OAAOC,OAAP,GAAe,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAC3B,QAAG;AACCN,YAAIO,MAAJ,CAAWH,IAAII,OAAJ,CAAY,OAAZ,CAAX,EAAgCC,QAAQC,GAAR,CAAYC,GAA5C,EAAgD,UAACC,GAAD,EAAKC,EAAL,EAAU;AACtD,gBAAGD,GAAH,EAAO;AACH,uBAAOP,IAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,CAAN,EAAQC,SAAQ,kBAAhB,EAArB,CAAP;AACH;AACDb,gBAAIc,QAAJ,GAAaL,EAAb;AACAM,oBAAQC,GAAR,CAAYP,EAAZ;AACA,gBAAGT,IAAIc,QAAJ,CAAaG,IAAb,GAAkB,MAArB,EAA4B;AACxBf;AACH,aAFD,MAGI;AACA,uBAAOD,IAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,CAAN,EAAQC,SAAQ,kBAAhB,EAArB,CAAP;AACH;AACJ,SAZD;AAcH,KAfD,CAgBA,OAAMK,KAAN,EAAY;AACRH,gBAAQC,GAAR,CAAYE,KAAZ;AACA,eAAOjB,IAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,GAAN,EAAUC,SAAQ,kBAAlB,EAArB,CAAP;AACH;AAEJ,CAtBD","file":"auth.js","sourcesContent":["const jwt=require('jsonwebtoken')\r\nmodule.exports=(req,res,next)=>{\r\n    try{\r\n        jwt.verify(req.headers['token'],process.env.JWT,(err,dc)=>{\r\n            if(err){\r\n                return res.status(200).json({code:2,message:\"An error occured\"})   \r\n            }\r\n            req.userData=dc\r\n            console.log(dc)\r\n            if(req.userData.type=\"user\"){\r\n                next()\r\n            }\r\n            else{\r\n                return res.status(200).json({code:0,message:\"An error occured\"}) \r\n            } \r\n        })\r\n      \r\n    }\r\n    catch(error){\r\n        console.log(error)\r\n        return res.status(500).json({code:190,message:\"An error occured\"})\r\n    }\r\n    \r\n}"]}