{"version":3,"sources":["../../middleware/auth.js"],"names":["jwt","require","module","exports","req","res","next","decode","verify","headers","process","env","JWT","userData","type","status","json","code","message","error","console","log"],"mappings":";;AAAA,IAAMA,MAAIC,QAAQ,cAAR,CAAV;AACAC,OAAOC,OAAP,GAAe,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAC3B,QAAG;AACC,YAAMC,SAAOP,IAAIQ,MAAJ,CAAWJ,IAAIK,OAAJ,CAAY,OAAZ,CAAX,EAAgCC,QAAQC,GAAR,CAAYC,GAA5C,CAAb;AACAR,YAAIS,QAAJ,GAAaN,MAAb;AACA,YAAGH,IAAIS,QAAJ,CAAaC,IAAb,GAAkB,MAArB,EAA4B;AACxBR;AACH,SAFD,MAGI;AACA,mBAAOD,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,CAAN,EAAQC,SAAQ,kBAAhB,EAArB,CAAP;AACH;AACJ,KATD,CAUA,OAAMC,KAAN,EAAY;AACRC,gBAAQC,GAAR,CAAYF,KAAZ;AACA,eAAOd,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,GAAN,EAAUC,SAAQ,kBAAlB,EAArB,CAAP;AACH;AAEJ,CAhBD","file":"auth.js","sourcesContent":["const jwt=require('jsonwebtoken')\r\nmodule.exports=(req,res,next)=>{\r\n    try{\r\n        const decode=jwt.verify(req.headers['token'],process.env.JWT)\r\n        req.userData=decode\r\n        if(req.userData.type=\"user\"){\r\n            next()\r\n        }\r\n        else{\r\n            return res.status(200).json({code:0,message:\"An error occured\"}) \r\n        } \r\n    }\r\n    catch(error){\r\n        console.log(error)\r\n        return res.status(200).json({code:190,message:\"An error occured\"})\r\n    }\r\n    \r\n}"]}