{"version":3,"sources":["../../middleware/admin.js"],"names":["jwt","require","module","exports","req","res","next","decode","verify","headers","process","env","JWT","userData","type","status","json","code","message","error"],"mappings":";;AAAA,IAAMA,MAAIC,QAAQ,cAAR,CAAV;AACAC,OAAOC,OAAP,GAAe,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAC3B,QAAG;AACC,YAAMC,SAAOP,IAAIQ,MAAJ,CAAWJ,IAAIK,OAAJ,CAAY,OAAZ,CAAX,EAAgCC,QAAQC,GAAR,CAAYC,GAA5C,CAAb;AACAR,YAAIS,QAAJ,GAAaN,MAAb;AACA,YAAGH,IAAIS,QAAJ,CAAaC,IAAb,IAAmB,OAAtB,EAA8B;AAC1BR;AACH,SAFD,MAGI;AACA,mBAAOD,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,CAAN,EAAQC,SAAQ,mBAAhB,EAArB,CAAP;AACH;AACJ,KATD,CAUA,OAAMC,KAAN,EAAY;AACR,eAAOd,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,MAAK,CAAN,EAAQC,SAAQ,mBAAhB,EAArB,CAAP;AACH;AAEJ,CAfD","file":"admin.js","sourcesContent":["const jwt=require('jsonwebtoken')\r\nmodule.exports=(req,res,next)=>{\r\n    try{\r\n        const decode=jwt.verify(req.headers['token'],process.env.JWT)\r\n        req.userData=decode\r\n        if(req.userData.type==\"admin\"){\r\n            next()\r\n        }\r\n        else{\r\n            return res.status(500).json({code:0,message:\"An error occurred\"}) \r\n        }\r\n    }\r\n    catch(error){\r\n        return res.status(500).json({code:0,message:\"An error occurred\"})\r\n    }\r\n    \r\n}"]}